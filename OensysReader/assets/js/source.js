"use strict";!function a(r,c,d){function s(t,e){if(!c[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=c[t]={exports:{}};r[t][0].call(i.exports,function(e){return s(r[t][1][e]||e)},i,i.exports,a,r,c,d)}return c[t].exports}for(var l="function"==typeof require&&require,e=0;e<d.length;e++)s(d[e]);return s}({1:[function(c,e,t){(function(e){var t,n=a("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=a(c("modules/animation.js")),i=a(c("modules/takePhoto.js"));function a(e){return e&&e.__esModule?e:{default:e}}function r(){(0,o.default)(),(0,i.default)()}(t=n.default)(document).ready(function(){r(),t(window).bind("styleguide:onRendered",function(e){r()})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"modules/animation.js":2,"modules/takePhoto.js":3}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var m,v,g,p,h,w,y,t=!0;function e(e){var t=0,n=0;e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),y.x=t,y.y=n}function n(){t=!(document.body.scrollTop>v)}function o(){m=window.innerWidth,v=window.innerHeight,g.style.height=v+"px",p.width=m,p.height=v}function i(){if(t)for(var e in h.clearRect(0,0,m,v),w)Math.abs(M(y,w[e]))<4e3?(w[e].active=.3,w[e].circle.active=.6):Math.abs(M(y,w[e]))<2e4?(w[e].active=.1,w[e].circle.active=.3):Math.abs(M(y,w[e]))<4e4?(w[e].active=.02,w[e].circle.active=.1):(w[e].active=0,w[e].circle.active=0),r(w[e]),w[e].circle.draw();requestAnimationFrame(i)}function a(e){TweenLite.to(e,1+1*Math.random(),{x:e.originX-50+100*Math.random(),y:e.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){a(e)}})}function r(e){if(e.active)for(var t in e.closest)h.beginPath(),h.moveTo(e.x,e.y),h.lineTo(e.closest[t].x,e.closest[t].y),h.strokeStyle="rgba(243,100,36,"+e.active+")",h.stroke()}function b(e,t,n){var o=this;o.pos=e||null,o.radius=t||null,o.color=n||null,this.draw=function(){o.active&&(h.beginPath(),h.arc(o.pos.x,o.pos.y,o.radius,0,2*Math.PI,!1),h.fillStyle="rgba(243,100,36,"+o.active+")",h.fill())}}function M(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}$(".landing").length&&(function(){m=window.innerWidth,v=window.innerHeight,y={x:m/2,y:v/2},(g=document.getElementById("header")).style.height=v+"px",(p=document.getElementById("animation-canvas")).width=m,p.height=v,h=p.getContext("2d"),w=[];for(var e=0;e<m;e+=m/20)for(var t=0;t<v;t+=v/20){var n=e+Math.random()*m/20,o=t+Math.random()*v/20,i={x:n,originX:n,y:o,originY:o};w.push(i)}for(var a=0;a<w.length;a++){for(var r=[],c=w[a],d=0;d<w.length;d++){var s=w[d];if(c!=s){for(var l=!1,u=0;u<5;u++)l||null==r[u]&&(r[u]=s,l=!0);for(u=0;u<5;u++)l||M(c,s)<M(c,r[u])&&(r[u]=s,l=!0)}}c.closest=r}for(var a in w){var f=new b(w[a],2+2*Math.random(),"rgba(255,255,255,0.3)");w[a].circle=f}}(),function(){for(var e in i(),w)a(w[e])}(),function(){"ontouchstart"in window||window.addEventListener("mousemove",e);window.addEventListener("scroll",n),window.addEventListener("resize",o)}())}},{}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){firebase.initializeApp({apiKey:"AIzaSyAX0g-faZYiULDy_QiLMBxaigNBB85VAPI",authDomain:"reception-management.firebaseapp.com",databaseURL:"https://reception-management.firebaseio.com",projectId:"reception-management",storageBucket:"reception-management.appspot.com",messagingSenderId:"192413503859",appId:"1:192413503859:web:c8f9e78f7000d4ea"});function e(e){console.log("An error has occurred!",e)}var t=firebase.database(),o=document.getElementById("canvas").getContext("2d"),n=document.getElementById("video"),i={video:!0};t.ref("visitors").on("value",function(e){console.log(e.val())},function(e){console.log("Error!"),console.log(e)}),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(i).then(function(e){n.srcObject=e,n.play()}):navigator.getUserMedia?navigator.getUserMedia(i,function(e){n.src=e,n.play()},e):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(i,function(e){n.src=window.webkitURL.createObjectURL(e),n.play()},e):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(i,function(e){n.src=window.URL.createObjectURL(e),n.play()},e),document.getElementById("snap").addEventListener("click",function(){var e=document.getElementById("video"),t=document.getElementById("canvas"),n=document.getElementById("snap");o.drawImage(e,0,0,640,480);t.toDataURL("image/jpeg",.65);n.classList.contains("active")?(e.className="fadeIn",t.className="fadeOut",n.classList="btn-submit btn--small",n.textContent="Take Photo"):(e.className="fadeOut",t.className="fadeIn",n.classList="btn-submit btn--small active",n.textContent="Retake Photo")}),document.getElementById("proceed").addEventListener("click",function(){var n=sessionStorage.getItem("visitorID"),o=document.getElementById("canvas").toDataURL("image/jpeg",.65);firebase.database().ref("/visitors/"+n).once("value").then(function(e){var t=e.val();console.log(t),t.profilePicture=o,firebase.database().ref("visitors/"+n).set(t,function(e){if(e)console.log("Not done");else{console.log("done");var t=window.location.href;window.location.href=t.replace("photo","visitor")}})})})}},{}]},{},[1]);