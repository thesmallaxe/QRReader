"use strict";!function i(o,l,d){function c(t,e){if(!l[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=l[t]={exports:{}};o[t][0].call(a.exports,function(e){return c(o[t][1][e]||e)},a,a.exports,i,o,l,d)}return l[t].exports}for(var f="function"==typeof require&&require,e=0;e<d.length;e++)c(d[e]);return c}({1:[function(a,e,t){(function(e){var t=r("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=r(a("modules/qrGenerator.js"));function r(e){return e&&e.__esModule?e:{default:e}}(0,t.default)(document).ready(function(){(0,n.default)()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"modules/qrGenerator.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){firebase.initializeApp({apiKey:"AIzaSyBSES8151aT4TvUkaaQUc8z6Jt_rKlHss8",authDomain:"qr-reader-e5dbe.firebaseapp.com",databaseURL:"https://qr-reader-e5dbe.firebaseio.com",projectId:"qr-reader-e5dbe",storageBucket:"qr-reader-e5dbe.appspot.com",messagingSenderId:"501459211305",appId:"1:501459211305:web:757b993c57fe8f2b"});firebase.database();var r=[],a=new ZXing.BrowserQRCodeSvgWriter,t=document.getElementById("csv");function i(e){console.log(e),firebase.database().ref("attendees/"+e.id).set({ID:e.id,Name:e.name,Title:e.title,Company:e.company,Image:e.image,Attended:"No"})}function n(e){var t=document.getElementById("canvas");!function(e,t){var n=e.getContext("2d");n.save(),n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,e.width,e.height),n.restore()}(t,"#fff");var n=t.toDataURL("image/png"),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}t.addEventListener("change",function(){var e=new FileReader;e.onload=function(){e.result.split("\r\n").forEach(function(e){var t=e.split(",");r.push({id:t[0],name:t[1],title:t[2],company:t[3],image:t[4]})}),function(r){var e=0;for(e=0;e<r.length;e++){var t=$("#template-row").clone().appendTo("#table");$(t).attr("style",""),$(t).children(".table-row-id").html(r[e].id),$(t).children(".table-row-name").html(r[e].name),$(t).children(".table-row-title").html(r[e].title),$(t).children(".table-row-company").html(r[e].company),$(t).children(".table-row-image").html(r[e].image),$(t).children(".table-row-btn").children(".btn-generate").removeClass("btn-generate-all").html("Generate").attr("data-index",e),$(t).children(".table-row-qr").attr("id","table-row-qr-"+e),$(t).children(".table-row-btn").children(".btn-save").removeClass("btn-save-all").html("Save").attr("data-index",e),$(t).children(".table-row-btn").children(".btn-generate").click(function(){var e=$(this).attr("data-index"),t=r[e],n="#table-row-qr-"+e;a.writeToDom(n,JSON.stringify(t),200,200),i(t)}),$(t).children(".table-row-btn").children(".btn-save").click(function(){var e=$(this).attr("data-index");canvg(document.getElementById("canvas"),$("#table-row-qr-"+e).html()),n(r[e].name+".png")})}}(r)},e.readAsBinaryString(t.files[0])}),$(".btn-generate-all").click(function(){var e=0;for(e=0;e<r.length;e++){var t=r[e],n="#table-row-qr-"+e;a.writeToDom(n,JSON.stringify(t),200,200),i(t)}})}},{}]},{},[1]);