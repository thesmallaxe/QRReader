"use strict";!function i(o,l,d){function c(t,e){if(!l[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var r=l[t]={exports:{}};o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,i,o,l,d)}return l[t].exports}for(var s="function"==typeof require&&require,e=0;e<d.length;e++)c(d[e]);return c}({1:[function(r,e,t){(function(e){var t=a("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=a(r("modules/qrGenerator.js"));function a(e){return e&&e.__esModule?e:{default:e}}(0,t.default)(document).ready(function(){(0,n.default)()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"modules/qrGenerator.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){firebase.initializeApp({apiKey:"AIzaSyBSES8151aT4TvUkaaQUc8z6Jt_rKlHss8",authDomain:"qr-reader-e5dbe.firebaseapp.com",databaseURL:"https://qr-reader-e5dbe.firebaseio.com",projectId:"qr-reader-e5dbe",storageBucket:"qr-reader-e5dbe.appspot.com",messagingSenderId:"501459211305",appId:"1:501459211305:web:757b993c57fe8f2b"});firebase.database();var a=[],r=new ZXing.BrowserQRCodeSvgWriter,t=document.getElementById("csv");function i(e){console.log(e),firebase.database().ref("attendees/"+e.id).set({ID:e.id,Name:e.name,Title:e.title,Company:e.company,Image:e.image,Attended:"No"})}function n(e){var t=document.getElementById("canvas");!function(e,t){var n=e.getContext("2d");n.save(),n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,e.width,e.height),n.restore()}(t,"#fff");var n=t.toDataURL("image/png"),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}t.addEventListener("change",function(){var e=new FileReader;e.onload=function(){e.result.split("\r\n").forEach(function(e){var t=e.split(",");a.push({id:t[0],name:t[1],title:t[2],company:t[3],image:t[4]})}),function(a){var e=0;for(e=0;e<a.length;e++){var t=$("#template-row").clone().appendTo("#table");$(t).attr("style",""),$(t).children(".table-row-id").html(a[e].id),$(t).children(".table-row-name").html(a[e].name),$(t).children(".table-row-title").html(a[e].title),$(t).children(".table-row-company").html(a[e].company),$(t).children(".table-row-image").html(a[e].image),$(t).children(".table-row-btn").children(".btn-generate").removeClass("btn-generate-all").html("Generate").attr("data-index",e),$(t).children(".table-row-qr").attr("id","table-row-qr-"+e),$(t).children(".table-row-btn").children(".btn-save").removeClass("btn-save-all").html("Save").attr("data-index",e),$(t).children(".table-row-btn").children(".btn-generate").click(function(){var e=$(this).attr("data-index"),t=a[e],n="#table-row-qr-"+e;r.writeToDom(n,JSON.stringify(t),200,200),i(t),$('.btn-save[data-index="'+e+'"]').prop("disabled",!1)}),$(t).children(".table-row-btn").children(".btn-save").click(function(){var e=$(this).attr("data-index");canvg(document.getElementById("canvas"),$("#table-row-qr-"+e).html()),n(a[e].name+".png")})}}(a),$(".btn-generate").prop("disabled",!1)},e.readAsBinaryString(t.files[0])}),$(".btn-generate-all").click(function(){var e=0;for(e=0;e<a.length;e++){var t=a[e],n="#table-row-qr-"+e;r.writeToDom(n,JSON.stringify(t),200,200),i(t)}$(".btn-save").prop("disabled",!1)}),$(".btn-save-all").click(function(){var e=0;for(e=0;e<a.length;e++)canvg(document.getElementById("canvas"),$("#table-row-qr-"+e).html()),n(a[e].name+".png")})}},{}]},{},[1]);